# <%= metadata.name %>

<%= metadata.description %>

# Requirements
<% unless metadata.platforms.empty? %>

## Platform:

<%= list(metadata.platforms) %>
<% end %>
<% unless metadata.dependencies.empty? && metadata.recommendations.empty? && metadata.suggestions.empty? && metadata.conflicting.empty? %>

## Cookbooks:

<%= list(metadata.dependencies) %>
<%= list(metadata.recommendations.map { |cookbook| "#{cookbook} (Recommended but not required)" }) %>
<%= list(metadata.suggestions.map { |cookbook| "#{cookbook} (Suggested but not required)" }) %>
<%= list(metadata.conflicting.map { |cookbook| "Conflicts with #{cookbook}" }) %>
<% end %>
<% unless recipes.empty? %>

# Recipes

<%= segment_toc recipes %>

<% recipes.each do |recipe| -%>
<% unless recipe.description.empty? -%>

## <%= recipe.name %>

<%= recipe.description %>
<% end %>
<% end %>
<% end %>
<% unless resources.empty? %>

# Resources

<%= segment_toc resources %>

<% resources.each do |resource| %>
<% unless resource.description.empty? %>

## <%= resource.resource_name %>

<%= resource.description %>
<% end %>
<% unless resource.actions.empty? %>

### Actions

<% if resource.default_action.is_a?(Array) %>
* Default actions: [<%= resource.default_action.join ', ' %>]
<% end %>
<%= list(resource.actions.map { |action| "#{action.to_s}: #{resource.action_descriptions[action]}" }) %>
<% end %>
<% unless resource.properties.empty? %>

### Properties

<% resource.properties.each do |name, property| %>
* <%= property.to_s %><% unless property.description.empty? %>: <%= property.description %><% end %>
<% end %>
<% end %>
<% end %>
<% end %>
